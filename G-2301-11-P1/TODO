- Modificar listener_thread para usar pthread_cleanup_push.

X Crear la función del hilo de recepción de datos (sacarla de main). (Víctor)

X Crear la función del hilo de envío de datos. (Víctor)
- Pensar cómo cerrar conexiones. (¿señales para cerrar los hilos y que el handler cierre todo?)
X Crear la estructura de cola para comunicación entre hilos, encapsulando sincronización. (Guille)
X Implementar diccionario (Guille)
- Crear las estructuras de datos correspondientes a IRC: (Víctor)
	· Mapa socket -> usuario.
	· Datos usuario (struct).
	· Canales activos (lista de usuarios en cada uno). Plantear búsqueda.



Dudas de deJuan

recv qué tipo de mensaje se espera? un char* vale?

el void * de mensajes de la cola puede ser lo que quiera? el man parece que dice que sea msgbuf...

=== Cambios Guille sobre cosas De Juan

== receiver.c:send_to_main

Lo que enviamos a través de la cola es un msg_sockcommdata, que tiene el msgtype que necesita lo de la cola.

Pero ahí el fallo importante es usar strlen para sacar la longitud del mensaje. Puede ser que la cadena no acabe en \0. Tenemos que usar la longitud de datos leídos desde el socket.
